name: "Bluetooth Audio Manager"
version: "1.0.0"
slug: bluetooth_audio_manager
description: "Manage Bluetooth audio device connections (A2DP) with persistent pairing, auto-reconnect, and AppArmor security."
url: "https://github.com/scyto/ha-bluetooth-audio-manager"
image: "ghcr.io/scyto/ha-bluetooth-audio-manager"
arch:
  - aarch64
  - amd64
  - armv7
  - armhf
init: false
startup: services
boot: auto

# Permissions (least privilege)
host_dbus: true
hassio_api: true
hassio_role: manager
homeassistant_api: true
audio: true
privileged:
  - NET_ADMIN
  - NET_RAW

# Ingress UI
ingress: true
ingress_port: 8099
panel_icon: "mdi:bluetooth-audio"
panel_title: "BT Audio"

# Storage
map:
  - type: data
    read_only: false

# User options (runtime settings are managed in the app UI)
options:
  log_level: "info"
  mpd_password: ""

schema:
  log_level: "list(debug|info|warning|error)"
  mpd_password: "str?"

apparmor: true
watchdog: "http://[HOST]:[PORT:8099]/api/health"

# Build stage
stage: stable
